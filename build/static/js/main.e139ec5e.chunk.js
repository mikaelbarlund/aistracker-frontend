(this["webpackJsonpaistracker-frontend"]=this["webpackJsonpaistracker-frontend"]||[]).push([[0],{65:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(9),o=r.n(n),s=(r(37),r(11)),c=r(17),i=r.n(c),u=r(28),l="SET_VESSEL_LIST";function p(e){return{type:l,payload:e}}var d=r(29),f=r.n(d),m=r(69),j=r(72),b=r(73),h=r(70),O=r(71),g=(r(65),r(2)),x=r.n(g),v=r(1),y=function(){var e=Object(s.b)();Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/vessels");case 2:r=e.sent,a=r.data,t(p(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(s.c)((function(e){return e.vessels.vessels})),r=x.a.latLng(60.16,24.87),n={color:"black",weight:1},o={color:"red"},c={color:"orange"},l={color:"yellow"},d={color:"green"},g={color:"blue"};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Marine Traffic Tracks"}),Object(v.jsxs)(m.a,{center:r,zoom:8,scrollWheelZoom:!1,children:[Object(v.jsx)(j.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"}),t.map((function(e){return e.features.map((function(e){return{key:e._id,value:x.a.latLng(e.geometry.coordinates[1],e.geometry.coordinates[0]),feature:e}})).map((function(e){var t=e.feature.properties.timestampExternal>Date.now()-36e5?{color:o,radius:200}:e.feature.properties.timestampExternal>Date.now()-432e5?{color:c,radius:150}:e.feature.properties.timestampExternal>Date.now()-864e5?{color:l,radius:100}:e.feature.properties.timestampExternal>Date.now()-1728e5?{color:d,radius:50}:{color:g,radius:20};return Object(v.jsx)(b.a,{center:e.value,pathOptions:t.color,radius:t.radius,children:Object(v.jsx)(h.a,{sticky:!0,children:new Date(e.feature.properties.timestampExternal).toLocaleString()})},"".concat(e.feature._id,"-circle"))}))})),t.map((function(e){var t=e.features.sort((function(e,t){return e.properties.timestampExternal>t.properties.timestampExternal?-1:1})).map((function(e){return x.a.latLng(e.geometry.coordinates[1],e.geometry.coordinates[0])}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.a,{pathOptions:n,positions:t},"".concat(e._id,"-line")),void 0!==e.features[0]&&Object(v.jsx)(b.a,{center:x.a.latLng(e.features[0].geometry.coordinates[1],e.features[0].geometry.coordinates[0]),pathOptions:n,radius:400,children:Object(v.jsxs)(h.a,{direction:"bottom",offset:[0,20],opacity:1,children:["Name: ".concat(e.name)," ",Object(v.jsx)("br",{}),"Destination: ".concat(e.destination)," ",Object(v.jsx)("br",{})," ",new Date(e.features[0].properties.timestampExternal).toLocaleString()]})},"".concat(e._id,"-ship"))]})}))]})]})},w=r(8),E=r(30),k=r(31),D=r(5),L={vessels:[]};var S=Object(w.combineReducers)({vessels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(D.a)(Object(D.a)({},e),{},{vessels:t.payload});default:return e}}}),_=Object(w.createStore)(S,Object(k.composeWithDevTools)(Object(w.applyMiddleware)(E.a)));o.a.render(Object(v.jsx)(s.a,{store:_,children:Object(v.jsx)(y,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.e139ec5e.chunk.js.map